(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{2226:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l="http://localhost:8000"},2982:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var l=s(7876),a=s(9099),r=s(4232),n=s(3679),o=s(4587),i=s.n(o),u=s(1040),d=s(2491),c=s.n(d),h=s(2226);function p(){let e=(0,a.useRouter)(),[t,s]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,x]=(0,r.useState)(!1),f=async s=>{s.preventDefault(),x(!0);try{let s=await u.A.post("".concat(h.A,"/api/loginadmin"),{name:t,email:o,password:p}),{status:l,data:a,message:r}=s.data;1===l?(console.log("\uD83C\uDFAF Login response:",s.data),localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify({id:a.id,name:a.name,email:a.email,role:a.role})),e.push("/")):c().fire({icon:"error",title:"فشل تسجيل الدخول",text:r||"الرجاء التحقق من البيانات المدخلة."})}catch(e){var l,a;c().fire({icon:"error",title:"حدث خطأ",text:(null==(a=e.response)||null==(l=a.data)?void 0:l.message)||"فشل في الاتصال بالخادم."})}finally{x(!1)}};return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-300 to-blue-400",dir:"rtl",children:(0,l.jsxs)("div",{className:"bg-white shadow-xl hover:shadow-2xl transition-shadow duration-300 rounded-3xl p-10 max-w-md w-full",children:[(0,l.jsx)("div",{className:"mb-6 flex justify-center",children:(0,l.jsx)(i(),{src:"/Logo.jpg",alt:"شعار الموقع",width:150,height:150,className:"rounded-full"})}),(0,l.jsx)("h2",{className:"text-3xl font-extrabold text-blue-800 mb-6 text-center",children:"تسجيل الدخول"}),(0,l.jsxs)("form",{onSubmit:f,className:"space-y-5",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(n.x$1,{className:"absolute top-3 right-3 text-gray-400"}),(0,l.jsx)("input",{type:"text",placeholder:"الاسم الكامل",value:t,onChange:e=>s(e.target.value),className:"w-full pl-4 pr-10 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(n.maD,{className:"absolute top-3 right-3 text-gray-400"}),(0,l.jsx)("input",{type:"email",placeholder:"البريد الإلكتروني",value:o,onChange:e=>d(e.target.value),className:"w-full pl-4 pr-10 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(n.JhU,{className:"absolute top-3 right-3 text-gray-400"}),(0,l.jsx)("input",{type:"password",placeholder:"كلمة السر",value:p,onChange:e=>m(e.target.value),className:"w-full pl-4 pr-10 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),(0,l.jsx)("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded transition duration-200 font-semibold",children:g?"جاري التحقق...":"تسجيل دخول"})]})]})})}},7984:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(2982)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[938,390,493,773,636,593,792],()=>t(7984)),_N_E=e.O()}]);